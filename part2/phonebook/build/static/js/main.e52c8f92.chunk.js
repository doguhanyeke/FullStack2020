(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},36:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),c=t.n(o),u=t(2),l=function(e){return r.a.createElement("div",null,"filter shown with ",r.a.createElement("input",{onChange:e.onChange}))},i=function(e){var n=e.onSubmit,t=e.onChange1,a=e.onChange2,o=e.value1,c=e.value2;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:t,value:o})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{onChange:a,value:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},m=function(e){var n=e.per,t=e.deletePerson;return r.a.createElement("li",{key:n.name},n.name," ",n.number,r.a.createElement("button",{onClick:t}," delete "))},s=function(e){var n=e.filteredPersons,t=e.deletePerson;return r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(m,{per:e,key:e.name,deletePerson:function(){return t(e.id)}})})))},f=t(3),d=t.n(f),b="/api/persons",h=function(){return d.a.get(b)},v=function(e){return d.a.post(b,e)},E=function(e,n){return d.a.put("".concat(b,"/").concat(e),n)},p=function(e){return d.a.delete("".concat(b,"/").concat(e))},g=(t(36),function(e){var n=e.message,t=e.className;return console.log("here",t),null===n?null:r.a.createElement("div",{className:t},n)}),j=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(a.useState)(""),m=Object(u.a)(c,2),f=m[0],d=m[1],b=Object(a.useState)(""),j=Object(u.a)(b,2),O=j[0],w=j[1],C=Object(a.useState)(""),k=Object(u.a)(C,2),S=k[0],y=k[1],P=Object(a.useState)(null),N=Object(u.a)(P,2),I=N[0],A=N[1],D=Object(a.useState)(null),J=Object(u.a)(D,2),x=J[0],B=J[1];Object(a.useEffect)((function(){h().then((function(e){o(e.data.filter((function(e){return"name"in e})))}))}),[]);var L=t.filter((function(e){if(e.name)return e.name.toLowerCase().includes(S)}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(g,{message:I,className:x}),r.a.createElement(l,{onChange:function(e){y(e.target.value)}}),r.a.createElement("h3",null,"Add a new"),r.a.createElement(i,{onSubmit:function(e){if(e.preventDefault(),t.reduce((function(e,n){return n.name===f&&(e=!1),e}),!0))v({name:f,number:O}).then((function(e){A("Added ".concat(f)),B("success"),console.log("response data",e.data),o(t.concat(e.data))}));else if(window.confirm("".concat(f," is already added to phonebook,\n      replace the old number with a new one?"))){B("success");var n=t.find((function(e){return e.name===f})).id;E(n,{name:f,number:O}).then((function(e){return o(t.map((function(n){return n.id===e.data.id?e.data:n})))})).catch((function(e){B("error"),A("Information of ".concat(f," has already been removed from server")),console.log(e)}))}w(""),d("")},onChange1:function(e){d(e.target.value)},value1:f,onChange2:function(e){w(e.target.value)},value2:O}),r.a.createElement("h3",null,"Numbers"),r.a.createElement(s,{filteredPersons:L,deletePerson:function(e){var n=t.find((function(n){return n.id===e})).name;window.confirm("Delete ".concat(n))&&(B("error"),p(e).then((function(a){A("Information of ".concat(n," has already been removed from server")),o(t.filter((function(n){return n.id!==e})))})))}}))};c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.e52c8f92.chunk.js.map